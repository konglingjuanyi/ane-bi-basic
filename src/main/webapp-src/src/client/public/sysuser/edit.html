<div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-2" data-widget-colorbutton="false" data-widget-editbutton="false">
    <header>
        <span class="widget-icon"> <i class="fa fa-eye"></i> </span>
        <h2> 用户信息 </h2>
    </header>
    <div>
        <!-- widget content -->
        <div class="widget-body">
            <form name="sysuserForm" ng-submit="vm.saveOrUpdate()" novalidate>
                <fieldset>
                <div class="container-fluid">
	                <div class="row">
	                    <div class="form-group col-sm-6" ng-class="vm.formValidator.getValidationClass(sysuserForm.no)">
	                    	<div class="col-sm-2"><label style="margin-top:6px">工号</label></div>
	                        <div class="col-sm-8">
	                        	<input class="form-control" placeholder="请输入工号" name="no" type="text" ng-model="vm.sysuser.no" required>
	                        </div>
	                        <p class="help-block" ng-show="vm.formValidator.isValidatedOf(sysuserForm.no , 'required')">必填</p>
	                    </div>
	                    <div class="form-group col-sm-6">
	                    	<div class="col-sm-2"><label style="margin-top:6px;">姓名</label></div>
	                        <div class="col-sm-8">
	                        	<input class="form-control" type="text" name="name" ng-model="vm.sysuser.name">
	                    	</div>
	                    </div>
	                </div>
	                
	                <div class="row">
	                    <div class="form-group col-sm-6" ng-class="vm.formValidator.getValidationClass(sysuserForm.password)">
	                    	<div class="col-sm-2"><label style="margin-top:6px;">密码</label></div>
	                        <div class="col-sm-8">
	                        	<input class="form-control" placeholder="请输入密码" type="password" name="password" 
	                        	ng-model="vm.sysuser.password" required>
	                        </div>
	                        <p class="help-block" ng-show="vm.formValidator.isValidatedOf(sysuserForm.password , 'required')">必填</p>
	                    </div>
	                    <div class="form-group col-sm-6" ng-class="vm.formValidator.getValidationClass(sysuserForm.passwordConfirm)">
	                    	<div class="col-sm-2"><label style="margin-top:6px;">确认密码</label></div>
	                        <div class="col-sm-8">
	                        	<input class="form-control" placeholder="请确认密码" type="password" name="passwordConfirm" 
	                        	ng-model="vm.sysuser.passwordConfirm" ng-blur="vm.checkSame()" required>
	                        </div>
	                        <p class="help-block" style="color:red;" ng-hide="vm.pwResult">密码不一致</p>
	                    </div>
	                    
	                </div>
                    
                    <div class="row">
                    	<div class="form-group col-sm-6">
	                    	<div class="col-sm-2"><label style="margin-top:6px;">状态</label></div>
	                        <div class="col-sm-8">
	                        	<div class="radio">
    								<label>
								    	<input type="radio" name="status" value="1" ng-model="vm.sysuser.status"> 启用
								    </label>
								    <label>
								    	<input type="radio" name="status" value="0" ng-model="vm.sysuser.status"> 禁用
								    </label>
								</div>
					      	</div>
	                    </div>
	                    <div class="form-group col-sm-6">
	                    	<div class="col-sm-2"><label style="margin-top:6px;">身份证</label></div>
	                    	<div class="col-sm-8">
	                        	<input class="form-control" type="text" name="idnumber" ng-model="vm.sysuser.idnumber">
	                    	</div>
	                    </div>
                    </div>
                    
                    <div class="row">
                    	<div class="form-group col-sm-6" ng-class="vm.formValidator.getValidationClass(sysuserForm.phonenumber)">
	                        <div class="col-sm-2"><label style="margin-top:6px;">手机号</label></div>
	                        <div class="col-sm-8">
	                        	<input class="form-control" pattern="^1[3-9]\d{9}$" type="text" name="phonenumber" ng-model="vm.sysuser.phonenumber">
                        	</div>
	                        <p class="help-block" ng-show="vm.formValidator.isValidatedOf(sysuserForm.phonenumber,'pattern')">格式有误</p>
	                    </div>
	                    <div class="form-group col-sm-6" ng-class="vm.formValidator.getValidationClass(sysuserForm.email)">
	                    	<div class="col-sm-2"><label style="margin-top:6px;">邮箱</label></div>
	                    	<div class="col-sm-8">
	                        	<input class="form-control" type="email" name="email" ng-model="vm.sysuser.email"
	                        	pattern="^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+((\.[a-zA-Z0-9_-]{2,3}){1,2})$">
	                    	</div>
                        	<p class="help-block" ng-show="vm.formValidator.isValidatedOf(sysuserForm.email,'pattern')">格式有误</p>
	                    </div>
	                </div>
	                
	                <div class="row" ng-show="false">
	                    <div class="form-group col-sm-12">
	                        <div class="col-sm-1"><label style="margin-top:6px;">角色ID</label></div>
	                    	<div class="col-sm-10">
	                        	<input class="form-control" type="text" name="roleid" ng-model="vm.sysuser.roleid">
	                    	</div>
	                    </div>
	                </div>
	                    
                    <div class="row">
	                    <div class="form-group col-sm-12">
	                        <div class="col-sm-1"><label style="margin-top:6px;">角色</label></div>
	                        <div class="col-sm-9">
						      	<input class="form-control" type="text" name="rolename" ng-model="vm.sysuser.rolename" readonly>
					      	</div>
					      	<div class="col-sm-1">
					      		<a data-toggle="modal" data-target="#roleChooseModal" class="btn btn-primary btn-large"> 选择角色 </a>
					      	</div>
	                    </div>
	                </div>
	                
	                <div class="row" ng-show="false">
	                    <div class="form-group col-sm-12">
	                        <div class="col-sm-1"><label style="margin-top:6px;">部门ID</label></div>
	                    	<div class="col-sm-10">
	                        	<input class="form-control" type="text" name="depid" ng-model="vm.sysuser.depid">
	                    	</div>
	                    </div>
	                </div>
	                
	                <div class="row">
	                	<div class="form-group col-sm-12">
	                        <div class="col-sm-1"><label style="margin-top:6px;">部门</label></div>
	                        <div class="col-sm-9">
						      	<input class="form-control" type="text" name="depname" ng-model="vm.sysuser.depname" readonly>
					      	</div>
					      	<div class="col-sm-1">
					      		<a data-toggle="modal" data-target="#depChooseModal" class="btn btn-primary btn-large"> 选择部门 </a>
					      	</div>
	                    </div>
	                </div>
	                
                    <div class="row">
	                    <div class="form-group col-sm-12">
	                        <div class="col-sm-1"><label style="margin-top:6px;">备注</label></div>
	                        <div class="col-sm-10">
		                        <textarea class="form-control" type="text" rows="3" name="memo" ng-model="vm.sysuser.memo"></textarea>
	                        </div>
	                    </div>
                    </div>
				</div>
                </fieldset>
                <div class="form-actions">

                    <button class="btn btn-primary" type="submit" ng-disabled="sysuserForm.$invalid"> 保存 </button>
                    <button class="btn btn-default" type="button" ng-click="vm.returnList()"> 返回 </button>
                </div>
            </form>
            
            <!--  角色选择 -->
            <div class="modal fade" id="roleChooseModal" tabindex="-1" role="dialog" aria-labelledby="roleChooseModalLabel" aria-hidden="true">
				<div class="modal-dialog">
			    	<div class="modal-content">
			        	<div class="modal-header">
			            	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			            	<h4 class="modal-title" id="myModalLabel">角色选择</h4>
			        	</div>
			        	<div class="modal-body">
		        			<div class="row" ng-repeat="x in vm.roles">
			        			<div class="form-group col-sm-12">
			        				<label class="checkbox-inline">
			        					<input type="checkbox" id="{{x.id}}" name="rolebox" value="{{x.name}}"/>
			        					{{x.name}}
			        				</label>
			        			</div>
			        		</div>
			        	</div>
			        	<div class="modal-footer">
			            	<button type="button" class="btn btn-primary" ng-click="vm.confirmRole()"> 确认 </button>
			            	<button type="button" class="btn btn-default" data-dismiss="modal"> 关闭 </button>
			        	</div>
			    	</div><!-- /.modal-content -->
				</div><!-- /.modal-dialog -->
			</div><!-- /.modal -->
			
			<!-- 部门选择 -->
			<div class="modal fade" id="depChooseModal" tabindex="-1" role="dialog" aria-labelledby="depChooseModalLabel" aria-hidden="true">
				<div class="modal-dialog">
			    	<div class="modal-content">
			        	<div class="modal-header">
			            	<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
			            	<h4 class="modal-title" id="depLabel">部门选择</h4>
			        	</div>
			        	<div class="modal-body">
				        	<div  class="row">
					        	<div class="col-sm-12 col-md-12">
							        <div class="jarviswidget jarviswidget-color-blueDark" id="wid-id-0" data-widget-editbutton="true">
							            <header>
							                <span class="widget-icon"> 
							                <i class="fa fa-table"></i> </span>
							                <h2>部门列表</h2>
							            </header>
							            <div class="row" style="padding-bottom:15px;">
											<div id="tree" class="ztree"></div>
										</div>
							        </div>
							    </div>
						    </div>
			        	</div>
			        	<div class="modal-footer">
			            	<button type="button" class="btn btn-primary" ng-click="vm.confirmDepartment()"> 确认 </button>
			            	<button type="button" class="btn btn-default" data-dismiss="modal"> 关闭 </button>
			        	</div>
		        	</div><!-- /.modal-content -->
				</div><!-- /.modal-dialog -->
			</div><!-- /.modal -->
			
        </div>
    </div>
</div>
